doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Farm Connect - My Products
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet")
    link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css")
    link(rel="stylesheet", href="/style.css")

  body
    // Navbar
    nav.navbar.navbar-expand-lg.navbar-light.bg-light.shadow-sm
      .container
        a.navbar-brand.fw-bold(href="/dashboard") Farm Connect
        button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav")
          span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse.justify-content-end
          ul.navbar-nav.me-3
            li.nav-item
              a.nav-link(href="/dashboard") Dashboard
            li.nav-item
              a.nav-link(href="/products/market") Market
            li.nav-item
              a.nav-link(href="/products") My Products
            li.nav-item
              a.nav-link(href="/settings") Settings
            li.nav-item
              a.nav-link(href="/messages") Messages
            li.nav-item
              a.nav-link(href="/logout") Logout

    // Upload Product Form
    .container.mt-5
      h3.text-center.mb-4 Upload New Product
      form(action="/products/create", method="POST", enctype="multipart/form-data")
        .mb-3
          label.form-label(for="name") Product Name
          input#name.form-control(type="text", name="name", required)
        .mb-3
          label.form-label(for="description") Description
          textarea#description.form-control(name="description")
        .mb-3
          label.form-label(for="price") Price
          input#price.form-control(type="number", name="price", required)
        .mb-3
          label.form-label(for="image") Image
          input#image.form-control(type="file", name="image")
        button.btn.btn-success(type="submit") Upload Product

    // Farmer Products Table
    .container.mt-5
      h3.text-center.mb-4 My Uploaded Products

      if products.length === 0
        p.text-center.text-muted You haven't uploaded any products yet.
      else
        table.table.table-striped.table-hover
          thead
            tr
              th Name
              th Description
              th Price
              th Image
          tbody
            each product in products
              tr
                td #{product.name}
                td #{product.description}
                td $#{product.price}
                td
                  if product.image
                    img(src=product.image, alt=product.name, width="60")
                  else
                    span.text-muted No Image

    // Scripts
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
