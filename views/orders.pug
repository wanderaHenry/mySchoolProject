doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Farm Connect - Orders
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet")
    link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css")
    link(rel="stylesheet", href="/style.css")

  body
    // Navbar
    nav.navbar.navbar-expand-lg.navbar-light.bg-light.shadow-sm
      .container
        a.navbar-brand.fw-bold(href="/") Farm Connect
        button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav")
          span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse.justify-content-end
          ul.navbar-nav.me-3
            li.nav-item
              a.nav-link(href="/dashboard") Dashboard
            li.nav-item
              a.nav-link(href="/products/market") Market
            li.nav-item
              a.nav-link(href="/products") My Products
            li.nav-item
              a.nav-link(href="/settings") Settings
            li.nav-item
              a.nav-link(href="/messages") Messages
            li.nav-item
              a.nav-link(href="/logout") Logout

    // Orders Section
    .container.mt-5
      h3.text-center.mb-4 Orders Dashboard

      if orders.length === 0
        p.text-center.text-muted No orders yet.
      else
        table.table.table-striped.table-hover
          thead
            tr
              th Product
              th Buyer
              th Status
              th Action
          tbody
            each order in orders
              tr
                td #{order.product.name}
                td #{order.buyer.name}
                td #{order.status}
                td
                  form(action="/orders/update", method="POST", class="d-flex align-items-center")
                    input(type="hidden", name="orderId", value=order._id)
                    select.form-select.form-select-sm(name="status")
                      option(value="Pending", selected=order.status==="Pending") Pending
                      option(value="Confirmed", selected=order.status==="Confirmed") Confirmed
                      option(value="Declined", selected=order.status==="Declined") Declined
                    button.btn.btn-success.btn-sm.ms-2(type="submit") Update

    // Scripts
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
